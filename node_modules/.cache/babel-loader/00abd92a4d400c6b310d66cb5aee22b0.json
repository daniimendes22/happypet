{"ast":null,"code":"export const login = (username, password) => {\n  // Get a token from api server using the fetch api\n  return fetch(`http://localhost:8080/api/auth/login`, {\n    method: 'POST',\n    body: JSON.stringify({\n      username,\n      password\n    })\n  }).then(response => {\n    setToken(response.token); // Setting the token in localStorage\n\n    return Promise.resolve(response);\n  });\n};\n\nconst setToken = idToken => {\n  // Saves user token to localStorage\n  localStorage.setItem('users', idToken);\n};\n\nexport const getCurrentUser = () => {\n  return JSON.parse(localStorage.getItem(\"user\"));\n};\nexport const getToken = () => {\n  return JSON.parse(localStorage.getItem('user'));\n};\nexport const logout = () => {\n  localStorage.removeItem(\"user\");\n};","map":{"version":3,"sources":["/Users/danielmendes/Documents/happypet/src/services/auth.tsx"],"names":["login","username","password","fetch","method","body","JSON","stringify","then","response","setToken","token","Promise","resolve","idToken","localStorage","setItem","getCurrentUser","parse","getItem","getToken","logout","removeItem"],"mappings":"AAGA,OAAO,MAAMA,KAAK,GAAG,CAACC,QAAD,EAAkBC,QAAlB,KAAsC;AACvD;AACA,SAAOC,KAAK,CAAE,sCAAF,EAAyC;AACnDC,IAAAA,MAAM,EAAE,MAD2C;AAEnDC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBN,MAAAA,QADmB;AAEnBC,MAAAA;AAFmB,KAAf;AAF6C,GAAzC,CAAL,CAMJM,IANI,CAMCC,QAAQ,IAAI;AAChBC,IAAAA,QAAQ,CAACD,QAAQ,CAACE,KAAV,CAAR,CADgB,CACU;;AAC5B,WAAOC,OAAO,CAACC,OAAR,CAAgBJ,QAAhB,CAAP;AACD,GATM,CAAP;AAUD,CAZI;;AAcL,MAAMC,QAAQ,GAAII,OAAD,IAAoB;AACnC;AACAC,EAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,OAA9B;AACD,CAHD;;AAMF,OAAO,MAAMG,cAAc,GAAE,MAAK;AAC9B,SAAOX,IAAI,CAACY,KAAL,CAAWH,YAAY,CAACI,OAAb,CAAqB,MAArB,CAAX,CAAP;AACH,CAFM;AAIP,OAAO,MAAMC,QAAQ,GAAG,MAAM;AAC1B,SAAOd,IAAI,CAACY,KAAL,CAAWH,YAAY,CAACI,OAAb,CAAqB,MAArB,CAAX,CAAP;AACH,CAFM;AAIP,OAAO,MAAME,MAAM,GAAG,MAAK;AACvBN,EAAAA,YAAY,CAACO,UAAb,CAAwB,MAAxB;AACH,CAFM","sourcesContent":["import decode from 'jwt-decode';\n\n  \nexport const login = (username:string, password:string) => {\n    // Get a token from api server using the fetch api\n    return fetch(`http://localhost:8080/api/auth/login`, {\n      method: 'POST',\n      body: JSON.stringify({\n        username,\n        password,\n      }),\n    }).then(response => {\n        setToken(response.token); // Setting the token in localStorage\n      return Promise.resolve(response);\n    });\n  }\n\n  const setToken = (idToken:string) => {\n    // Saves user token to localStorage\n    localStorage.setItem('users', idToken);\n  }\n\n\nexport const getCurrentUser =() =>{\n    return JSON.parse(localStorage.getItem(\"user\")!);\n};\n\nexport const getToken = () => {\n    return JSON.parse(localStorage.getItem('user')!);\n}\n\nexport const logout = () =>{\n    localStorage.removeItem(\"user\");\n};\n\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/danielmendes/Documents/happypet/src/pages/Register/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Container, FormItem, Image, Input, Form, Button, ErrorMessage } from \"./styles\";\nimport Header from \"../../components/Header\";\nimport { useHistory } from \"react-router-dom\"; //import { Redirect } from 'react-router-dom';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Register = () => {\n  _s();\n\n  const history = useHistory();\n  const initialUserState = {\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    phoneNumber: \"\",\n    password: \"\"\n  };\n  const [user, setUser] = useState(initialUserState);\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState(\"\");\n\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setUser({ ...user,\n      [name]: value\n    });\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setMessage(\"\");\n    setLoading(true);\n    fetch(\"http://localhost:8080/api/users\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        \"firstName\": user.firstName,\n        \"lastName\": user.lastName,\n        \"email\": user.email,\n        \"phoneNumber\": user.phoneNumber,\n        \"password\": user.password\n      })\n    }).then(response => response.json()).then(response => {\n      if (response.firstName) {\n        setLoading(false);\n        history.push(\"/?registred=true\");\n      } else {\n        // const errMessage = response.message;\n        setLoading(false);\n        setMessage(\"There was an error with the form\");\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(FormItem, {\n          children: [/*#__PURE__*/_jsxDEV(Image, {\n            src: \"https://res.cloudinary.com/glovoapp/image/fetch///https://glovoapp.com/images/glyphs/person.svg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"First Name\",\n            type: \"firstName\",\n            name: \"firstName\",\n            value: user.firstName,\n            required: true,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(FormItem, {\n          children: [/*#__PURE__*/_jsxDEV(Image, {\n            src: \"https://res.cloudinary.com/glovoapp/image/fetch///https://glovoapp.com/images/glyphs/person.svg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"First Name\",\n            type: \"lastName\",\n            name: \"lastName\",\n            value: user.lastName,\n            required: true,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(FormItem, {\n          children: [/*#__PURE__*/_jsxDEV(Image, {\n            src: \"https://res.cloudinary.com/glovoapp/image/fetch///https://glovoapp.com/images/glyphs/person.svg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"Phone Number\",\n            type: \"phoneNumber\",\n            name: \"phoneNumber\",\n            value: user.phoneNumber,\n            required: true,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(FormItem, {\n          children: [/*#__PURE__*/_jsxDEV(Image, {\n            src: \"https://res.cloudinary.com/glovoapp/image/fetch///https://glovoapp.com/images/glyphs/letter.svg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"Email\",\n            type: \"email\",\n            name: \"email\",\n            value: user.email,\n            required: true,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(FormItem, {\n          children: [/*#__PURE__*/_jsxDEV(Image, {\n            src: \"https://res.cloudinary.com/glovoapp/image/fetch///https://glovoapp.com/images/glyphs/lock.svg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"Password\",\n            type: \"password\",\n            name: \"password\",\n            value: user.password,\n            required: true,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 9\n        }, this), message && /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          disabled: !user || loading,\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Register, \"+y0OpOXeRncGYR320dFeLQX49B8=\", false, function () {\n  return [useHistory];\n});\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["/Users/danielmendes/Documents/happypet/src/pages/Register/index.tsx"],"names":["React","useState","Container","FormItem","Image","Input","Form","Button","ErrorMessage","Header","useHistory","Register","history","initialUserState","firstName","lastName","email","phoneNumber","password","user","setUser","loading","setLoading","message","setMessage","handleInputChange","e","name","value","target","handleSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","then","response","json","push"],"mappings":"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","sourcesContent":["import React, { SyntheticEvent, useState } from \"react\";\n\nimport { Container, FormItem, Image, Input, Form, Button, ErrorMessage } from \"./styles\";\nimport Header from \"../../components/Header\";\nimport { useHistory } from \"react-router-dom\";\n//import { Redirect } from 'react-router-dom';\n\nconst Register: React.FC = () => {\n  const history = useHistory();\n\n  interface User {\n    firstName: string;\n    lastName: string;\n    \n    email: string;\n    phoneNumber: string;\n    password: string;\n  }\n  const initialUserState = {\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    phoneNumber: \"\",\n    password: \"\",\n  };\n  const [user, setUser] = useState<User>(initialUserState);\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState(\"\");\n\n  const handleInputChange = (e: any) => {\n    const { name, value } = e.target;\n    setUser({ ...user, [name]: value });\n \n  };\n\n  const handleSubmit = async (e: SyntheticEvent) => {\n    e.preventDefault();\n\n    setMessage(\"\");\n    setLoading(true);\n\n\n\n    fetch(\"http://localhost:8080/api/users\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        \"firstName\": user.firstName,\n        \"lastName\": user.lastName,\n        \"email\": user.email,\n        \"phoneNumber\": user.phoneNumber,\n        \"password\": user.password,\n      }),\n    })\n      .then((response) => response.json())\n      .then((response) => {\n        if (response.firstName) {\n          setLoading(false);\n          history.push(\"/?registred=true\");\n        } else {\n         // const errMessage = response.message;\n          setLoading(false);\n          setMessage(\"There was an error with the form\");\n        }\n      });\n  };\n\n  return (\n    <>\n    <Header />\n\n    <Container>\n      <Form onSubmit={handleSubmit}>\n      <FormItem>\n          <Image src=\"https://res.cloudinary.com/glovoapp/image/fetch///https://glovoapp.com/images/glyphs/person.svg\" />\n          <Input\n            placeholder=\"First Name\"\n            type=\"firstName\"\n            name=\"firstName\"\n            value={user.firstName}\n            required\n            onChange={handleInputChange}\n          />\n        </FormItem>\n        <FormItem>\n          <Image src=\"https://res.cloudinary.com/glovoapp/image/fetch///https://glovoapp.com/images/glyphs/person.svg\" />\n          <Input\n            placeholder=\"First Name\"\n            type=\"lastName\"\n            name=\"lastName\"\n            value={user.lastName}\n            required\n            onChange={handleInputChange}\n          />\n        </FormItem>\n        <FormItem>\n          <Image src=\"https://res.cloudinary.com/glovoapp/image/fetch///https://glovoapp.com/images/glyphs/person.svg\" />\n          <Input\n            placeholder=\"Phone Number\"\n            type=\"phoneNumber\"\n            name=\"phoneNumber\"\n            value={user.phoneNumber}\n            required\n            onChange={handleInputChange}\n          />\n        </FormItem>\n        \n        <FormItem>\n          <Image src=\"https://res.cloudinary.com/glovoapp/image/fetch///https://glovoapp.com/images/glyphs/letter.svg\" />\n          <Input\n            placeholder=\"Email\"\n            type=\"email\"\n            name=\"email\"\n            value={user.email}\n            required\n            onChange={handleInputChange}\n          />\n        </FormItem>\n\n        <FormItem>\n          <Image src=\"https://res.cloudinary.com/glovoapp/image/fetch///https://glovoapp.com/images/glyphs/lock.svg\" />\n          <Input\n            placeholder=\"Password\"\n            type=\"password\"\n            name=\"password\"\n            value={user.password}\n            required\n            onChange={handleInputChange}\n          />\n        </FormItem>\n        {message && (\n        <ErrorMessage>{message}</ErrorMessage>\n        )}\n\n        <Button\n          type=\"submit\"\n          disabled={!user || loading }\n           >\n          Register\n        </Button>\n      </Form>\n    </Container>\n\n    </>\n);\n}\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}
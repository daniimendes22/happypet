{"ast":null,"code":"import axios from 'axios';\nimport getAuthorizationHeader from './auth-header';\nconst URL_API = 'http://localhost:8080/api/auth/';\n\nconst login = (email, password) => {\n  return axios.post(URL_API + 'login', {\n    email,\n    password\n  }).then(response => {\n    if (response.data.token) {\n      localStorage.setItem(\"user\", JSON.stringify(response.data));\n      console.log(getAuthorizationHeader);\n    }\n\n    return response.data;\n  });\n};\n\nconst getCurrentUser = () => {\n  return JSON.parse(localStorage.getItem(\"user\"));\n};\n\nconst getToken = () => {\n  return JSON.parse(localStorage.getItem('user'));\n};\n\nconst logout = () => {\n  localStorage.removeItem(\"user\");\n}; // eslint-disable-next-line import/no-anonymous-default-export\n\n\nexport default {\n  login,\n  getToken,\n  getCurrentUser,\n  logout\n};","map":{"version":3,"sources":["/Users/danielmendes/Documents/happypet/src/services/auth.tsx"],"names":["axios","getAuthorizationHeader","URL_API","login","email","password","post","then","response","data","token","localStorage","setItem","JSON","stringify","console","log","getCurrentUser","parse","getItem","getToken","logout","removeItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,sBAAP,MAAmC,eAAnC;AAGA,MAAMC,OAAO,GAAG,iCAAhB;;AAIA,MAAMC,KAAK,GAAG,CAACC,KAAD,EAAgBC,QAAhB,KAAqC;AAE/C,SAAOL,KAAK,CAACM,IAAN,CAAWJ,OAAO,GAAG,OAArB,EAA8B;AACjCE,IAAAA,KADiC;AAC1BC,IAAAA;AAD0B,GAA9B,EAEJE,IAFI,CAEEC,QAAD,IAAY;AAChB,QAAGA,QAAQ,CAACC,IAAT,CAAcC,KAAjB,EAAuB;AACnBC,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeN,QAAQ,CAACC,IAAxB,CAA7B;AACAM,MAAAA,OAAO,CAACC,GAAR,CAAYf,sBAAZ;AACH;;AACD,WAAOO,QAAQ,CAACC,IAAhB;AACH,GARM,CAAP;AASH,CAXD;;AAaA,MAAMQ,cAAc,GAAE,MAAK;AACvB,SAAOJ,IAAI,CAACK,KAAL,CAAWP,YAAY,CAACQ,OAAb,CAAqB,MAArB,CAAX,CAAP;AACH,CAFD;;AAIA,MAAMC,QAAQ,GAAG,MAAM;AACnB,SAAOP,IAAI,CAACK,KAAL,CAAWP,YAAY,CAACQ,OAAb,CAAqB,MAArB,CAAX,CAAP;AACH,CAFD;;AAIA,MAAME,MAAM,GAAG,MAAK;AAChBV,EAAAA,YAAY,CAACW,UAAb,CAAwB,MAAxB;AACH,CAFD,C,CAIA;;;AACA,eAAe;AACXnB,EAAAA,KADW;AAEXiB,EAAAA,QAFW;AAGXH,EAAAA,cAHW;AAIXI,EAAAA;AAJW,CAAf","sourcesContent":["import axios from 'axios'\nimport getAuthorizationHeader from './auth-header';\n\n\nconst URL_API = 'http://localhost:8080/api/auth/';\n\n\n\nconst login = (email: string, password: string) => {\n\n    return axios.post(URL_API + 'login', {\n        email, password\n    }).then((response)=>{\n        if(response.data.token){ \n            localStorage.setItem(\"user\", JSON.stringify(response.data));\n            console.log(getAuthorizationHeader)\n        }\n        return response.data;\n    })\n};\n\nconst getCurrentUser =() =>{\n    return JSON.parse(localStorage.getItem(\"user\")!);\n};\n\nconst getToken = () => {\n    return JSON.parse(localStorage.getItem('user')!);\n}\n\nconst logout = () =>{\n    localStorage.removeItem(\"user\");\n};\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default {\n    login,\n    getToken,\n    getCurrentUser,\n    logout\n}"]},"metadata":{},"sourceType":"module"}
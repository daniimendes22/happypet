{"ast":null,"code":"const URL_API = 'http://localhost:8080/api/auth/';\n\nconst login = (email, password) => {\n  const data = {\n    email: email,\n    password: password\n  };\n  return fetch(URL_API + \"login\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(data)\n  }).then(response => response.json()).then(response => {\n    console.log(response.token);\n\n    if (response.data.token) {\n      localStorage.setItem(\"user\", JSON.stringify(response.data));\n      const user = JSON.parse(localStorage.getItem('user'));\n      console.log(user.token);\n    }\n\n    return response.data;\n  }).catch(e => {\n    console.log(e);\n  });\n};\n\nconst getCurrentUser = () => {\n  return JSON.parse(localStorage.getItem(\"user\"));\n};\n\nconst getToken = () => {\n  return JSON.parse(localStorage.getItem('user'));\n};\n\nconst logout = () => {\n  localStorage.removeItem(\"user\");\n}; // eslint-disable-next-line import/no-anonymous-default-export\n\n\nexport default {\n  login,\n  getToken,\n  getCurrentUser,\n  logout\n};","map":{"version":3,"sources":["/Users/danielmendes/Documents/happypet/src/services/auth.tsx"],"names":["URL_API","login","email","password","data","fetch","method","headers","body","JSON","stringify","then","response","json","console","log","token","localStorage","setItem","user","parse","getItem","catch","e","getCurrentUser","getToken","logout","removeItem"],"mappings":"AACA,MAAMA,OAAO,GAAG,iCAAhB;;AAIA,MAAMC,KAAK,GAAG,CAACC,KAAD,EAAgBC,QAAhB,KAAqC;AAE/C,QAAMC,IAAI,GAAG;AACTF,IAAAA,KAAK,EAAEA,KADE;AAETC,IAAAA,QAAQ,EAAEA;AAFD,GAAb;AAKA,SAAOE,KAAK,CAACL,OAAO,GAAG,OAAX,EAAoB;AAC5BM,IAAAA,MAAM,EAAE,MADoB;AAE5BC,IAAAA,OAAO,EAAE;AAAE,sBAAgB;AAAlB,KAFmB;AAG5BC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,IAAf;AAHsB,GAApB,CAAL,CAKNO,IALM,CAKDC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EALX,EAMNF,IANM,CAMDC,QAAQ,IAAI;AACdE,IAAAA,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACI,KAArB;;AACA,QAAGJ,QAAQ,CAACR,IAAT,CAAcY,KAAjB,EAAuB;AACnBC,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BT,IAAI,CAACC,SAAL,CAAeE,QAAQ,CAACR,IAAxB,CAA7B;AACA,YAAMe,IAAI,GAAGV,IAAI,CAACW,KAAL,CAAWH,YAAY,CAACI,OAAb,CAAqB,MAArB,CAAX,CAAb;AACAP,MAAAA,OAAO,CAACC,GAAR,CAAYI,IAAI,CAACH,KAAjB;AACH;;AACD,WAAOJ,QAAQ,CAACR,IAAhB;AACH,GAdM,EAeNkB,KAfM,CAeAC,CAAC,IAAI;AACRT,IAAAA,OAAO,CAACC,GAAR,CAAYQ,CAAZ;AACD,GAjBI,CAAP;AAmBH,CA1BD;;AA4BA,MAAMC,cAAc,GAAE,MAAK;AACvB,SAAOf,IAAI,CAACW,KAAL,CAAWH,YAAY,CAACI,OAAb,CAAqB,MAArB,CAAX,CAAP;AACH,CAFD;;AAIA,MAAMI,QAAQ,GAAG,MAAM;AACnB,SAAOhB,IAAI,CAACW,KAAL,CAAWH,YAAY,CAACI,OAAb,CAAqB,MAArB,CAAX,CAAP;AACH,CAFD;;AAIA,MAAMK,MAAM,GAAG,MAAK;AAChBT,EAAAA,YAAY,CAACU,UAAb,CAAwB,MAAxB;AACH,CAFD,C,CAIA;;;AACA,eAAe;AACX1B,EAAAA,KADW;AAEXwB,EAAAA,QAFW;AAGXD,EAAAA,cAHW;AAIXE,EAAAA;AAJW,CAAf","sourcesContent":["\nconst URL_API = 'http://localhost:8080/api/auth/';\n\n\n\nconst login = (email: string, password: string) => {\n\n    const data = {\n        email: email,\n        password: password\n    }\n\n    return fetch(URL_API + \"login\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(data)\n    })\n    .then(response => response.json())\n    .then(response => {\n        console.log(response.token)\n        if(response.data.token){ \n            localStorage.setItem(\"user\", JSON.stringify(response.data));\n            const user = JSON.parse(localStorage.getItem('user')!);\n            console.log(user.token)\n        }\n        return response.data;\n    })\n    .catch(e => {\n        console.log(e);\n      });\n\n};\n\nconst getCurrentUser =() =>{\n    return JSON.parse(localStorage.getItem(\"user\")!);\n};\n\nconst getToken = () => {\n    return JSON.parse(localStorage.getItem('user')!);\n}\n\nconst logout = () =>{\n    localStorage.removeItem(\"user\");\n};\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default {\n    login,\n    getToken,\n    getCurrentUser,\n    logout\n}"]},"metadata":{},"sourceType":"module"}